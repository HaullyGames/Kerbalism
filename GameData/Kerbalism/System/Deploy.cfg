// ============================================================================
// Supported Modules List
//  - Antenna(Kerbalism): add ecCost for all Kerbalism antennas to stay connected, add ecCost when the animation(Extending/Retracting) is playing
//  - RetractableLadder: add ecDeploy for all parts that has RetractableLadder module.
//  - ModuleDataTransmitter: ¹(add ecCost for all stock antennas to stay connected), add ecCost when the animation(Extending/Retracting) is playing.
//
//
//
//  *ecCost = ecCost to keep module working
//  *ecDeploy = ecCost to Extend\Retract(animation)
// NOTE: This is always "ACTIVE" because, if the player disables DeploySystem, the code will fix the modules that has been disabled
//  ¹= About stay connected, only works when the game needs ModuleDataTransmitter, if the game uses the simple signal system, it won't interrupt the communication.
// ============================================================================

// ============================================================================
// add ecCost to stock antennas, I'm using 10% of ecCost when is transmitting
// ============================================================================
@PART[kerbalism-antenna]:HAS[@MODULE[Antenna]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.005
    ecDeploy = 0.04
  }
}

@PART[longAntenna]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.01
    ecDeploy = 0.05
  }
}

@PART[SurfAntenna]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.01
  }
}

@PART[mediumDishAntenna]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.02
    ecDeploy = 0.12
  }
}

@PART[HighGainAntenna5]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.02
    ecDeploy = 0.08
  }
}

@PART[HighGainAntenna]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.033
    ecDeploy = 0.2
  }
}

@PART[commDish]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.05
    ecDeploy = 0.22
  }
}

@PART[RelayAntenna5]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.033
  }
}

@PART[RelayAntenna50]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.05
  }
}

@PART[RelayAntenna100]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.066
  }
}

@PART[kerbalEVA,kerbalEVAfemale]:HAS[@MODULE[Antenna]|@MODULE[ModuleDataTransmitter]]:AFTER[Kerbalism]
{ 
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.001
  }
}

// ============================================================================
// add ecCost to internal stock antennas
// ============================================================================

@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[#antennaType[INTERNAL]]]:NEEDS[FeatureDeploy&!FeatureSignal]:FINAL
{
  MODULE
  {
    name = AntennaDeploy
    ecCost = 0.01
  }
}

// ============================================================================
// add ecCost for deploy Ladder
// ============================================================================

@PART[*]:HAS[@MODULE[RetractableLadder]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LadderDeploy
    ecDeploy = 0.13
  }
}

// ============================================================================
// add ecCost for deploy LandingGear
// ============================================================================

@PART[miniLandingLeg]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.02
  }
}

@PART[landingLeg1]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.04
  }
}

@PART[landingLeg1-2]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.06
  }
}

@PART[SmallGearBay]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.06
  }
}

@PART[GearSmall]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.1
  }
}

@PART[GearMedium]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.16
  }
}

@PART[GearLarge]:HAS[@MODULE[ModuleWheelDeployment]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LandingGearDeploy
    ecDeploy = 0.22
  }
}

// ============================================================================
// add ecCost for keep Lights ON
// ============================================================================

@PART[*]:HAS[@MODULE[ModuleAnimateGeneric]:HAS[#defaultActionGroup[Light]]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LightsDeploy
    ecCost = 0.01
  }
}

@PART[*]:HAS[@MODULE[ModuleColorChanger]:HAS[#defaultActionGroup[Light]]]:FOR[Kerbalism]
{
  MODULE
  {
    name = LightsDeploy
    ecCost = 0.01
  }
}

// ============================================================================
// add ecCost for deploy Drill
// ============================================================================

@PART[MiniDrill]:FOR[Kerbalism]
{
  MODULE
  {
    name = DrillDeploy
    ecDeploy = 0.09
  }
}

@PART[RadialDrill]:FOR[Kerbalism]
{
  MODULE
  {
    name = DrillDeploy
    ecDeploy = 0.3
  }
}
